<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="pokehelperr">
<title>pokehelperr-vignette • pokehelperr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="pokehelperr-vignette">
<meta property="og:description" content="pokehelperr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pokehelperr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/pokehelperr-vignette.html">pokehelperr-vignette</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>pokehelperr-vignette</h1>
            
      
      
      <div class="d-none name"><code>pokehelperr-vignette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="welcome-to-pokehelperr">Welcome to Pokehelperr!<a class="anchor" aria-label="anchor" href="#welcome-to-pokehelperr"></a>
</h2>
<p>Pokehelperr is an R package designed to assist Pokémon players in
building teams of pokémon. Users can provide a list of pokémon currently
on their team, and Pokehelperr will make a suitable recommendation for
pokémon which can strengthen the current team by balancing it’s overall
weaknesses and resistances.</p>
<p>Given a list of up to five pokémon currently on a team, pokehelpyer
will determine which types the team is most weak to and which types the
team is most resistant to. Based on this information, pokehelpyer will
then recommend a pokémon that could be added to the current team to make
its weaknesses and resistances more balanced.</p>
<p>To use Pokehelperr in a project, we will first import the package as
shown below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ubc-mds.github.io/pokehelperr/">pokehelperr</a></span><span class="op">)</span></span></code></pre></div>
<p>Pokehelperr currently includes five different functions which can be
used to explore the resistances and weaknesses of our pokémon team.
Using these functions effectively can help us build a strong team of
pokémon.</p>
</div>
<div class="section level2">
<h2 id="get_types">get_types<a class="anchor" aria-label="anchor" href="#get_types"></a>
</h2>
<p>The get_types function takes an input list of pokémon currently in
our team and determines the type of each pokémon using an existing
dataset. Please note that some pokémon have dual types and some pokémon
have a single type. Hence, the output will be a list of character
vectors in which each inner list will contain the type(s) of the each
pokémon.</p>
<p>In the example below, Pikachu, Eevee, and Metapod are all single-type
pokémon, whereas Charizard is a dual-type pokémon.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">team_types</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_types.html">get_types</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">'Pikachu'</span>, <span class="st">'Eevee'</span>, <span class="st">'Charizard'</span>, <span class="st">'Metapod'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">team_types</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "Electric"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "Normal"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "Fire"   "Flying"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] "Bug"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="calc_weaknesses-and-calc_resistances">calc_weaknesses and calc_resistances<a class="anchor" aria-label="anchor" href="#calc_weaknesses-and-calc_resistances"></a>
</h2>
<p>Each type of pokémon is weak to and resistant to attacks from certain
other types of pokémon. For example, fire-type pokémon are weak to
water-type attacks and resistant to bug-type attacks.</p>
<p>This is complicated a bit by dual-types pokémon. Some dual-typed
pokemon can be doubly weak or doubly resistant to certain types. For an
example of double weakness, we have Abomasnow, which is both ice-type
and grass-type, and as a result is doubly weak to fire-type attacks. An
example of double resistance is Skarmory, which is both steel-type and
flying-type, and as a result is doubly resistant to bug-type attacks and
grass-type attacks.</p>
<p>Further, some dual-typed pokemon can have a weakness cancel out with
a resistance. For an example, we can consider Skarmory yet again.
Flying-type pokemon are weak to rock-type and ice-type attacks, but
steel-type pokemon are resistant to rock-type and ice-type attacks. As a
result, Skarmory takes normal damage from rock-type and ice-type
attacks.</p>
<p>The input for calc_weaknesses / calc_resistances should be a list of
lists strings which contains the types of the pokémon on our team
(i.e. the output from get_types). These functions then calculate a
measure of how weak / resistant our team is to each pokemon type in the
game. The output is a dictionary whose keys are each of the 18 types in
the game and whose values are integers measuring the level of weakness /
resistance our team has to each type. Higher values indicate a higher
level of weakness / resistance to that type (key).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">team_weaknesses</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_weaknesses.html">calc_weaknesses</a></span><span class="op">(</span><span class="va">team_types</span><span class="op">)</span></span>
<span><span class="va">team_resistances</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_resistances.html">calc_resistances</a></span><span class="op">(</span><span class="va">team_types</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">'Weaknesses : '</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Weaknesses : "</span></span>
<span><span class="va">team_weaknesses</span></span>
<span><span class="co">#&gt;   Normal     Fire    Water Electric    Grass      Ice Fighting   Poison </span></span>
<span><span class="co">#&gt;        0        1        1        1        0        0        1        0 </span></span>
<span><span class="co">#&gt;   Ground   Flying  Psychic      Bug     Rock    Ghost   Dragon     Dark </span></span>
<span><span class="co">#&gt;        1        1        0        0        3        0        0        0 </span></span>
<span><span class="co">#&gt;    Steel    Fairy </span></span>
<span><span class="co">#&gt;        0        0</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">'Resistances : '</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Resistances : "</span></span>
<span><span class="va">team_resistances</span></span>
<span><span class="co">#&gt;   Normal     Fire    Water Electric    Grass      Ice Fighting   Poison </span></span>
<span><span class="co">#&gt;        0        1        0        1        3        0        2        0 </span></span>
<span><span class="co">#&gt;   Ground   Flying  Psychic      Bug     Rock    Ghost   Dragon     Dark </span></span>
<span><span class="co">#&gt;        4        1        0        2        0        3        0        0 </span></span>
<span><span class="co">#&gt;    Steel    Fairy </span></span>
<span><span class="co">#&gt;        2        1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="calc_balance">calc_balance<a class="anchor" aria-label="anchor" href="#calc_balance"></a>
</h2>
<p>Since the <code>recommend</code> function uses the information in the
dictionaries created by <code>calc_weaknesses</code> and
<code>calc_resistances</code> to determine which pokemon could be added
to the existing team to make it more “balanced”, we must first define a
metric to measure how “balanced” a team is. To this end, we use the
following:</p>
<ul>
<li><p>For <span class="math inline">\(i=1,2,\dots, 18\)</span>, let
<span class="math inline">\(w_i\)</span> be the value corresponding to
the <span class="math inline">\(i\)</span> -th pokemon type in the
dictionary returned by <code>calc_weaknesses</code> and let <span class="math inline">\(r_i\)</span> be the value corresponding to the
<span class="math inline">\(i\)</span> -th pokemon type in the
dictionary returned by <code>calc_resistances</code>. Now define <span class="math inline">\(\delta_i = r_i - w_i\)</span>. If <span class="math inline">\(\delta_i &lt; 0\)</span>, then the team is weak
(overall) to pokemon type <span class="math inline">\(i\)</span>, and
this should definitely be considered. The more negative <span class="math inline">\(\delta_i\)</span> is, the more problematic. For
example, if a player used a team of 5 fire type pokemon, then <span class="math inline">\(\delta_{\text{water}}\)</span> would be equal to
-5, and this would be a big problem. If <span class="math inline">\(\delta_i &gt; 0\)</span>, then the team is
resistant (overall) to pokemon type <span class="math inline">\(i\)</span>, which is a good thing. The more
positive the better, but any value greater than zero is good.</p></li>
<li>
<p>Hence, we penalize negative <span class="math inline">\(\delta_i\)</span> values more than we reward
positive <span class="math inline">\(\delta_i\)</span> values. We define
the <code>type-advantage</code>, <span class="math inline">\(TA\)</span>, corresponding to the <span class="math inline">\(i\)</span> -th type to be a piecewise function of
<span class="math inline">\(\delta_i\)</span>. In particular,</p>
<p><span class="math inline">\(TA_i =
-(-\delta_i)^{\frac{3}{2}}\)</span> if <span class="math inline">\(\delta_i &lt; 0\)</span> and <span class="math inline">\(TA_i = \delta_i^{\frac{3}{4}}\)</span> if <span class="math inline">\(\delta_i \geq 0\)</span>.</p>
</li>
<li>
<p>The above <span class="math inline">\(TA\)</span> function
penalizes large negative values of <span class="math inline">\(\delta_i\)</span> much more than it penalizes
small negative values. On the flip side, it does not reward large
positive values of <span class="math inline">\(\delta_i\)</span> much
more than it rewards small positive values.</p>
<p>Finally, we define the <code>balance</code> metric of a team as
follows: <span class="math inline">\(balance = \sum_iTA_i\)</span>.
Higher values of <code>balance</code> indicate well-balanced teams, and
lower values indicate teams that could use improvement.</p>
</li>
</ul>
<p>The <code>calc_balance</code> function takes the dictionaries
returned by <code>calc_weaknesses</code> and
<code>calc_resistances</code> as input, and returns the
<code>balance</code> resulting from the above calculations.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">team_balance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_balance.html">calc_balance</a></span><span class="op">(</span></span>
<span>    resistances<span class="op">=</span><span class="va">team_resistances</span>, </span>
<span>    weaknesses<span class="op">=</span><span class="va">team_weaknesses</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">team_balance</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 6.006</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="recommend">recommend<a class="anchor" aria-label="anchor" href="#recommend"></a>
</h2>
<p>The goal of the <code>recommend</code> function is the following:
<code>"given an input list of up 5 pokemon, determine which pokemon should be added to the team to maximize its 'balance' metric"</code>.
This is accomplished via a simple brute-force search since the total
number of pokemon available is not very large (~700).</p>
<p>Let’s try giving <code>recommend</code> a team of five fire-type
pokémon. Since this team is very weak to water-type and rock-type
attacks, we should expect <code>recommend</code> to return pokémon that
resists water-type and rock-type attacks.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fire_team</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">'Charmander'</span>, <span class="st">'Torchic'</span>, <span class="st">'Vulpix'</span>, <span class="st">'Flareon'</span>, <span class="st">'Chimchar'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/recommend.html">recommend</a></span><span class="op">(</span><span class="va">fire_team</span>, n_recommendations<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Iteration number 1 of 692."</span></span>
<span><span class="co">#&gt; [1] "Iteration number 100 of 692."</span></span>
<span><span class="co">#&gt; [1] "Iteration number 200 of 692."</span></span>
<span><span class="co">#&gt; [1] "Iteration number 300 of 692."</span></span>
<span><span class="co">#&gt; [1] "Iteration number 400 of 692."</span></span>
<span><span class="co">#&gt; [1] "Iteration number 500 of 692."</span></span>
<span><span class="co">#&gt; [1] "Iteration number 600 of 692."</span></span>
<span><span class="co">#&gt; [1] "Skarmory"   "Ferrothorn"</span></span></code></pre></div>
<p>Skarmory is doubly-resistant to rock-type attacks and (normally)
resistant to water-type attacks. On the other hand, Ferrothorn is
doubly-resistant to water-type attacks and (normally) resistant to
rock-type attacks. Adding either of these pokemon to our team of five
fire-types would definitely help improve the team’s balance. Looks like
the function is working as expected!!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sneha Sunil.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
